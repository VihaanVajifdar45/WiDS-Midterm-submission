# Logic from my 'challenge_2_ner_filter.ipynb'
import spacy
nlp = spacy.load("en_core_web_sm")

def filter_company_news(text, company_name):
    doc = nlp(text)
    # strictly retain articles where the entity is tagged as 'ORG'
    for ent in doc.ents:
        if ent.text.lower() == company_name.lower() and ent.label_ == "ORG":
            return True
    return False
